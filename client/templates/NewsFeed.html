<!DOCTYPE html>
<html>
<head>
  <title>Ask to Answer</title>
  <base href="/"/>
</head>

<body>
  <div class="nf-body-container">
    <!-- NavBar -->
    <div ui-view="nav-bar"></div>
    <!--NewsFeed -->
    <div class="nf-content-container">
      <div class="row">
        <div class="col-md-2 nf-left-menu">
          <div class="list-group">
            <a href="#" class="list-group-item disabled">
              News Feed
            </a>
            <a href="#" class="list-group-item">News Feed</a>
            <!-- <a href="#" class="list-group-item">Trending</a>
            <a href="#" class="list-group-item">Porta ac consectetur ac</a>
            <a href="#" class="list-group-item">Vestibulum at eros</a> -->
          </div>
        </div>
        <div class="col-md-10 nf-main">
          <div class="post-container" ng-repeat="question in vm.questions">
            <div class="post-title">
              <div class="post-topics">
                <ul class="nav nav-pills">
                  <li class="presentation"  ng-repeat = "topic in question.topics">
                    <a class="label label-default" href="">
                      {{topic.name}}
                    </a>
                  </li>
                </ul>
              </div>
              <a ui-sref="question({questionID: {{question.id}} })"><h3><b>{{question.question}}</b></h3></a>
            </div>


            <div ng-if = "question.answer.type !== null">
              <div class="post-author row">
                <div class="col-md-2">
                <img class = "post-avatar" height = "42" width = "42" margin = "center" src="{{question.answer.created_by.avatar}}">
                </div>
                <div class="col-md-8">
                  <div class="row">{{question.answer.created_by.user.first_name + " " + question.answer.created_by.user.last_name}} </div>
                </div>
                <div class = "col-md-2">
                </div>
              </div>
              <div class="post-content">
                {{question.answer.content}}
              </div>
              <div class="post-footer row">
                <div class="col-md-8 post-buttons-container">
                  <div class="wrapper">
                    <button ng-show="question.answer.my_vote === 0" class="btn btn-success" ng-click="vm.upvote(question.answer)">Upvote | <b>{{question.answer.total_vote}}</b></button>
                    <button ng-show="question.answer.my_vote > 0" class="btn btn-faded" ng-click="vm.upvote(question.answer)">Upvoted | <b>{{question.answer.total_vote}}</b></button>
                    <!-- <a href="#" class = "post-other-buttons">Follow</a> -->
                  </div>
                  <!-- <a href="#" class = "post-other-buttons">Downvote</a> -->

                  <!-- <a href="#" class = "post-other-buttons">Comments</a> -->
                </div>
                <div class="col-md-4 post-datetime">
                  Created: {{question.post.created_date | date:'MMM dd, yyyy'}}
                </div>
              </div>
            </div>

            <div ng-if = "question.answer.type === null">
              <div class = "row">
                <div class="col-md-2">
                  Asked by:
                </div>
                <div class="col-md-8">
                  <div class="row">{{question.post.created_by.user.first_name + " " + question.post.created_by.user.last_name}} </div>
                </div>
                <did class = "col-md-2">
                </did>
              </div>
              <div class="post-content">
                {{question.post.content}}
              </div>
              <button class="btn btn-primary" ui-sref="question({questionID: {{question.id}} })">Answer Now</button>
            </div>


            <hr>
          </div>
        <!-- <div class="col-md-2 nf-right-menu">
        </div> -->
      </div>
    </div>
  </div>
</body>
